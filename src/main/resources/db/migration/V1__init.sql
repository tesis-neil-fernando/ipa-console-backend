create table events (event_id bigint generated by default as identity, process_id bigint not null, time timestamp(6), message varchar(255), type varchar(255), primary key (event_id));
create table logs (log_id bigint generated by default as identity, process_id bigint not null, time timestamp(6) with time zone, user_id bigint, initiator varchar(255), state varchar(255), primary key (log_id));
create table namespaces (namespace_id bigint generated by default as identity, name varchar(255), primary key (namespace_id));
create table parameters (parameter_id bigint generated by default as identity, process_id bigint, name varchar(255), value varchar(255), primary key (parameter_id));
create table permission_namespaces (namespaces_id bigint not null, permission_id bigint not null, primary key (namespaces_id, permission_id));
create table permissions (permission_id bigint generated by default as identity, type varchar(255), primary key (permission_id));
create table processes (namespace_id bigint, process_id bigint generated by default as identity, description varchar(255), name varchar(255), primary key (process_id));
create table role_permissions (permission_id bigint not null, role_id bigint not null, primary key (permission_id, role_id));
create table roles (role_id bigint generated by default as identity, description varchar(255), name varchar(255), primary key (role_id));
create table user_roles (role_id bigint not null, user_id bigint not null, primary key (role_id, user_id));
create table users (enabled boolean, user_id bigint generated by default as identity, password varchar(255), username varchar(255), primary key (user_id));
create table workflows (active boolean not null, is_archived boolean, trigger_count integer not null, created_at timestamp(6) with time zone, updated_at timestamp(6) with time zone, id varchar(64) not null, name varchar(255), version_id varchar(255), raw_json jsonb, primary key (id));
alter table if exists events add constraint FKaax409asho8ifh9ipv15snbcq foreign key (process_id) references processes;
alter table if exists logs add constraint FK1h2sbvwekrobhiahu614w84y3 foreign key (process_id) references processes;
alter table if exists logs add constraint FKgqy8beil5y4almtq1tiyofije foreign key (user_id) references users;
alter table if exists parameters add constraint FK1y9xfhvrcaqa8fpj8b3i75945 foreign key (process_id) references processes;
alter table if exists permission_namespaces add constraint FK95413026emyjgltpsju2p5p0 foreign key (permission_id) references namespaces;
alter table if exists permission_namespaces add constraint FK7wy2w1h2yi1doq63jp1kyfqo4 foreign key (namespaces_id) references permissions;
alter table if exists processes add constraint FKoijy3q4fgwrub22j5aj90v0xj foreign key (namespace_id) references namespaces;
alter table if exists role_permissions add constraint FKegdk29eiy7mdtefy5c7eirr6e foreign key (permission_id) references permissions;
alter table if exists role_permissions add constraint FKn5fotdgk8d1xvo8nav9uv3muc foreign key (role_id) references roles;
alter table if exists user_roles add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 foreign key (role_id) references roles;
alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users;